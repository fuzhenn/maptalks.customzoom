/*!
 * maptalks.customzoom v2.0.0
 * LICENSE : MIT
 * (c) 2016-2017 maptalks.org
 */
!function(o,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("maptalks")):"function"==typeof define&&define.amd?define(["exports","maptalks"],t):t(o.maptalks=o.maptalks||{},o.maptalks)}(this,function(o,t){"use strict";function e(o,t){for(var e=Object.getOwnPropertyNames(t),n=0;n<e.length;n++){var i=e[n],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===o[i]&&Object.defineProperty(o,i,a)}return o}function n(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function i(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}function a(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):e(o,t))}var r={position:"top-left",slider:!0,zoomLevel:!1,navPan:!0},s=function(o){function e(t){n(this,e);var a=i(this,o.call(this));return a.options=r||t,a}return a(e,o),e.prototype.buildOn=function(o){this._map=o;var e=this.options,n=t.DomUtil.createEl("div","maptalks-zoom-custom");if(e.navPan){var i=(this._map.getZoom(),t.DomUtil.createEl("div","maptalks-zoom-zoomPan-custom")),a=t.DomUtil.createEl("div","maptalks-zoom-zoomPan-left-custom");a.onmouseover=function(o){a.style.backgroundPosition="-61px -19px"},a.onmouseout=function(o){a.style.backgroundPosition="-5px -19px"},a.onclick=function(){var e=o.getCenter(),n=4/o.getZoom()*Math.pow(2,o.getZoom()-o.getMaxZoom());o.panTo(new t.Coordinate([e.x-n,e.y]))};var r=t.DomUtil.createEl("div","maptalks-zoom-zoomPan-right-custom");r.onmouseover=function(o){r.style.backgroundPosition="-92px -19px"},r.onmouseout=function(o){r.style.backgroundPosition="-36px -19px"},r.onclick=function(){var e=o.getCenter(),n=4/o.getZoom()*Math.pow(2,o.getZoom()-o.getMaxZoom());o.panTo(new t.Coordinate([e.x+n,e.y]))};var s=t.DomUtil.createEl("div","maptalks-zoom-zoomPan-up-custom");s.onmouseover=function(o){s.style.backgroundPosition="-75px -5px"},s.onmouseout=function(o){s.style.backgroundPosition="-19px -5px"},s.onclick=function(){var e=o.getCenter(),n=4/o.getZoom()*Math.pow(2,o.getZoom()-o.getMaxZoom());o.panTo(new t.Coordinate([e.x,e.y+n]))};var l=t.DomUtil.createEl("div","maptalks-zoom-zoomPan-down-custom");l.onmouseover=function(o){l.style.backgroundPosition="-75px -32px"},l.onmouseout=function(o){l.style.backgroundPosition="-19px -32px"},l.onclick=function(){var e=o.getCenter(),n=4/o.getZoom()*Math.pow(2,o.getZoom()-o.getMaxZoom());o.panTo(new t.Coordinate([e.x,e.y-n]))},i.appendChild(s),i.appendChild(l),i.appendChild(a),i.appendChild(r),n.appendChild(i),this._panDOM=i}if(e.zoomLevel){var m=t.DomUtil.createEl("span","maptalks-zoom-zoomlevel-custom");n.appendChild(m),this._levelDOM=m}var p=t.DomUtil.createEl("div","maptalks-zoom-slider-custom"),u=t.DomUtil.createEl("a","maptalks-zoom-zoomin-custom");if(u.href="javascript:;",p.appendChild(u),this._zoomInButton=u,e.slider){var c=t.DomUtil.createEl("div","maptalks-zoom-slider-box-custom"),d=t.DomUtil.createEl("div","maptalks-zoom-slider-ruler-custom"),h=t.DomUtil.createEl("span","maptalks-zoom-slider-reading-custom"),f=t.DomUtil.createEl("span","maptalks-zoom-slider-dot-custom");p.appendChild(c),d.appendChild(h),d.appendChild(f),c.appendChild(d),this._sliderBox=c,this._sliderRuler=d,this._sliderReading=h,this._sliderDot=f}var v=t.DomUtil.createEl("a","maptalks-zoom-zoomout-custom");return v.href="javascript:;",p.appendChild(v),this._zoomOutButton=v,n.appendChild(p),o.on("_zoomend _zoomstart _viewchange",this._update,this),this._update(),this._registerDomEvents(),n},e.prototype._update=function(){var o=this.getMap();if(this._sliderBox){var t=10,e=((o.getMaxZoom()-o.getMinZoom())*t,(o.getZoom()-o.getMinZoom())*t);this._sliderReading.style.height=e+"px",this._sliderDot.style.bottom=e+"px"}this._levelDOM&&(this._levelDOM.innerHTML=o.getZoom())},e.prototype._registerDomEvents=function(){var o=this.getMap();this._zoomInButton&&t.DomUtil.on(this._zoomInButton,"click",o.zoomIn,o),this._zoomOutButton&&t.DomUtil.on(this._zoomOutButton,"click",o.zoomOut,o)},e.prototype.onRemove=function(){var o=this.getMap();this._zoomInButton&&t.DomUtil.off(this._zoomInButton,"click",o.zoomIn,o),this._zoomOutButton&&t.DomUtil.off(this._zoomOutButton,"click",o.zoomOut,o)},e}(t.control.Control);o.CustomZoom=s,Object.defineProperty(o,"__esModule",{value:!0})});